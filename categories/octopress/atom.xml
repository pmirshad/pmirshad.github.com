<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: octopress | Xit0]]></title>
  <link href="http://xit0.org/categories/octopress/atom.xml" rel="self"/>
  <link href="http://xit0.org/"/>
  <updated>2013-04-15T00:17:19+05:30</updated>
  <id>http://xit0.org/</id>
  <author>
    <name><![CDATA[Irshad Pananilath]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Remove Redundant /blog Prefix from Octopress website]]></title>
    <link href="http://xit0.org/2013/04/remove-redundant-slash-blog-prefix-from-octopress-website/"/>
    <updated>2013-04-14T21:56:00+05:30</updated>
    <id>http://xit0.org/2013/04/remove-redundant-slash-blog-prefix-from-octopress-website</id>
    <content type="html"><![CDATA[<p>Octopress, by default, generates static websites with a <code>/blog</code> prefix attached
to categories, archives and post URLs. This is particularly annoying when the
blog is hosted at <code>blog.yourdomain.tld</code> and have funny URLs like
<code>blog.yourdomain.tld/blog/archives</code>.</p>

<p>To get rid of this, I've created a clone of the <code>classic</code> Octopress theme with the necessary changes. It also renames <code>Blog</code> to <code>Home</code> in the navigation bar.</p>

<!--more-->


<p>To install and use <code>octopress-classic-no-blog</code> theme:
<code>bash
$ cd octopress
$ git clone git@github.com:pmirshad/octopress-classic-no-blog.git .themes/octopress-classic-no-blog
$ rake install['octopress-classic-no-blog']
</code></p>

<p>Changes are also required in <code>_config.yml</code>. <code>permalink</code>, <code>category_dir</code>,
<code>pagination_dir</code> properties have to be modified to remove the <code>blog</code> prefix</p>

<p>```yml</p>

<h1>permalink: /blog/:year/:month/:day/:title/</h1>

<p>permalink: /:year/:month/:day/:title/</p>

<h1>category_dir: blog/categories</h1>

<p>category_dir: categories</p>

<h1>pagination_dir: blog  # Directory base for pagination URLs eg. /blog/page/2/</h1>

<p>pagination_dir:       # Directory base for pagination URLs eg. /page/2/
```</p>

<p>After installing the theme and fixing <code>_config.yml</code>, generate the blog.</p>

<p><code>bash
$ rake generate
</code></p>

<h3>DIY for other themes</h3>

<p>To achieve this for other themes, the following modifications should suffice.
[<em>Assumption</em>: The theme is already installed and you are familiar with <em>diffs</em>]</p>

<p><code>bash
cd octopress/
</code></p>

<p>Move <code>archives</code> folder from <code>source/blog</code> to <code>source/</code>.</p>

<p><code>bash
mv -v source/blog/archives source/
</code></p>

<p>Edit <code>source/_includes/custom/navigation.html</code> to fix navigation URLs.</p>

<p><code>diff
-  &lt;li&gt;&lt;a href="/"&gt;Blog&lt;/a&gt;&lt;/li&gt;
-  &lt;li&gt;&lt;a href="/blog/archives"&gt;Archives&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href="/archives"&gt;Archives&lt;/a&gt;&lt;/li&gt;
</code></p>

<p>Edit <code>source/index.html</code> to fix the <em>Archives</em> page URL.</p>

<p><code>diff
-    &lt;a href="http://xit0.org/blog/archives"&gt;Blog Archives&lt;/a&gt;
+    &lt;a href="http://xit0.org/archives"&gt;Archives&lt;/a&gt;
</code></p>

<p>A theme in the <code>.themes</code> folder can be modified similarly, but will have to be
reinstalled with the <code>rake install['theme-name']</code> command afterwards.</p>
]]></content>
  </entry>
  
</feed>
